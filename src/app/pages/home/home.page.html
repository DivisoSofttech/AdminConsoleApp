<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-searchbar cancel-button-icon='md-arrow-back' cancel-button-text='Cancel' placeholder="search stores" #event
            (ionCancel)="isNotSearching()" (ionClear)="isNotSearching()" (ionFocus)="isSearching()"
            (ionChange)="loadResults()" [(ngModel)]="orderService.searchTerm"></ion-searchbar>
    </ion-toolbar>
</ion-header>

<ion-content>

    <!--   <ion-grid>
          <ion-row>
      
            <ion-col size-lg="4" size-md="4" size="6">
              <ion-card routerLink="/reports">
      
                <ion-item lines="none">
                  <ion-icon name="document"></ion-icon>
                </ion-item>
      
                <ion-card-header>
                  <ion-card-title>Reports</ion-card-title>
                  <ion-card-subtitle>View reports and other info</ion-card-subtitle>
                </ion-card-header>
      
              </ion-card>
            </ion-col>
      
            <ion-col size-lg="4" size-md="4" size="6">
              <ion-card routerLink="/offers">
      
                <ion-item lines="none">
                  <ion-icon name="gift"></ion-icon>
                </ion-item>
      
                <ion-card-header>
                  <ion-card-title>Offers</ion-card-title>
                  <ion-card-subtitle>View and manage offers</ion-card-subtitle>
                </ion-card-header>
      
              </ion-card>
            </ion-col>
      
            <ion-col size-lg="4" size-md="4" size="6">
              <ion-card routerLink="/users">
      
                <ion-item lines="none">
                  <ion-icon name="people"></ion-icon>
                </ion-item>
      
                <ion-card-header>
                  <ion-card-title>Users</ion-card-title>
                  <ion-card-subtitle>View and manage users</ion-card-subtitle>
                </ion-card-header>
      
              </ion-card>
            </ion-col>
      
          </ion-row>
        </ion-grid> -->
    <ion-grid *ngIf="!searchStatus">
        <ion-row justify-content-center class="white-background">
            <ion-col size="12" size-md="5" size-lg="5" class="date">
                <ion-item>
                    <ion-label position="floating">From</ion-label>
                    <ion-datetime displayFormat="DD MMMM YYYY" [value]="orderService.startDate"></ion-datetime>
                </ion-item>
            </ion-col>
            
            <ion-col size="12" size-md="5" size-lg="5" class="date">
                <ion-item>
                    <ion-label position="floating">To</ion-label>
                    <ion-datetime displayFormat="DD MMMM YYYY" [value]="orderService.endDate"></ion-datetime>
                </ion-item>
            </ion-col>
            <ion-col size="12" size-lg="1" size-md="1" class="ion-padding-top">
                <ion-button expand="block" fill="clear" (click)="loadOrdersWithDates()">
                    APPLY
                </ion-button>
            </ion-col>

        </ion-row>
        <ion-row align-items-center class="white-background">
            <ion-col size-sm="10" offset-sm="1" size="6" offset="3">
                <div class="white-background">
                    <h6>Total Orders</h6>
                    <h1 *ngIf="orderService.order<0">N/A</h1>
                    <h1 *ngIf="orderService.order>=0">{{orderService.order}}</h1>
                    <ion-chip *ngIf="orderService.selectedStore">
                        <ion-avatar>
                            <img [src]="'data:image/png;base64,'+orderService.selectedStore.image">
                        </ion-avatar>
                        <ion-label>{{orderService.selectedStore.name}}</ion-label>
                        <ion-icon name="close" (click)="clearStore()"></ion-icon>
                    </ion-chip>
                </div>
            </ion-col>
        </ion-row>
        <ion-row class="white-background">
            <ion-col size-sm="4" offset-sm="1" size="5" offset="1">
                <div class="white-background white-background-small side-border">
                    <h6>Today</h6>
                    <h5 *ngIf="orderService.todaysCount<0">N/A</h5>
                    <h5 *ngIf="orderService.todaysCount>=0">{{orderService.todaysCount}}</h5>
                </div>
            </ion-col>
            <ion-col size-sm="4" size="5">
                <div class="white-background white-background-small">
                    <h6>This week</h6>
                    <h5>N/A</h5>
                </div>
            </ion-col>
        </ion-row>

    </ion-grid>
    <!-- <app-search-result *ngIf="searchStatus"></app-search-result> -->
    <ion-list *ngIf="searchStatus">
        <ion-item *ngFor="let store of stores" class="store" (click)="setCurrentStore(store)">
            <ion-thumbnail slot="start">
                <img [src]="'data:image/png;base64,'+store.image">
            </ion-thumbnail>
            {{store.name}}
        </ion-item>
    </ion-list>
    <div class="loader" *ngIf="!stores && searchStatus">
        <ion-spinner>

        </ion-spinner>
    </div>
</ion-content>